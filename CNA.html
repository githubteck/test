<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DASH Player with ClearKey DRM</title>
    <link href="//vjs.zencdn.net/7.11.4/video-js.min.css" rel="stylesheet" />
    <script src="//vjs.zencdn.net/7.11.4/video.min.js"></script> <!-- Video.js library -->
    <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script> <!-- dash.js library -->
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #000;
        }
        #videoPlayer {
            width: 640px;
            height: 360px;
        }
    </style>
</head>
<body>

<video id="videoPlayer" controls></video>

<script>
    // Create a MediaPlayer instance
    var player = dashjs.MediaPlayer().create();

    // Provide the DASH manifest URL
    const DASH_MANIFEST_URL = "https://example.com/path/to/your/manifest.mpd"; // Replace with your actual manifest URL

    // Initialize the player with the video element and the manifest URL
    player.initialize(document.querySelector("#videoPlayer"), DASH_MANIFEST_URL, true);

    // Set ClearKey protection data (Replace keyId and key with your values)
    player.setProtectionData({
        "clearkey": {
            "keyId": "f1f53644d4941d4ed31b4bb2478f8cf4", // Use your actual keyId
            "key": "4ee336861eed4840a555788dc54aea6e" // Use your actual key
        }
    });

    // Log errors and events for debugging
    player.on(dashjs.MediaPlayer.events.ERROR, function (error) {
        console.error("Dash.js Error -> Code: " + error.error + ", Message: " + error.message);
    });

    player.on(dashjs.MediaPlayer.events.MANIFEST_LOADED, function() {
        console.log('Manifest loaded successfully.');
    });

    player.on(dashjs.MediaPlayer.events.BUFFER_LEVEL_STATE_CHANGED, function (state) {
        console.log('Buffer Level State: ', state);
    });

    // You can also listen to other player events as needed
    player.on(dashjs.MediaPlayer.events.PLAYBACK_ENDED, function() {
        console.log('Playback has ended.');
    });
</script>

</body>
</html>
